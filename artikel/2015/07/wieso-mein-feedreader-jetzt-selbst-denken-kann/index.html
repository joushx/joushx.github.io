<!DOCTYPE html>
<html lang="de"><head>
    
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="keywords" content="Johannes Mittendorfer, Mittendorfer, Blog, Informatik, Entwicklung, Security">
    <meta name="description" content="Der Blog von Johannes Mittendorfer über Software, IT-Security und das Internet">
    <meta name="author" content="Johannes Mittendorfer">
    <meta http-equiv="cleartype" content="on">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1">
    <meta name="application-name" content="Johannes Mittendorfer"/>
    <meta name="msapplication-TileColor" content="#f9fbf4"/>
    <meta http-equiv="imagetoolbar" content="false" />
    <meta property="fb:admins" content="100000063853580" />
    <meta name="Content-Language" content="de" />
    
    <link rel="shortcut icon" href="/assets/favicon.ico">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="/rss.xml">
    <link rel="canoncial" href="https://blog.johannes-mittendorfer.com/">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css" integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js" integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
    
    
    <link rel="stylesheet" href="https://blog.johannes-mittendorfer.com/styles.min.f93f4e51d7d393b46e7874802b06d820d7f22d0b5b68cecd9c431a0bb299bb42.css">
    
    
    
    <title>Johannes Mittendorfer | Wieso mein Feedreader jetzt selbst denken kann</title>
    
</head><body itemscope itemtype="http://schema.org/WebSite">
<nav id="bar">
    <section class="container">
        <a class="title" itemprop="url" href="/">
            <h1 itemprop="name">Johannes Mittendorfer</h1>
        </a>
        <ul>
            
            <li>
                <a href="/">
                    Start
                </a>
            </li>
            
            <li>
                <a href="/ueber-mich">
                    Über
                </a>
            </li>
            
            <li>
                <a href="/astronomie">
                    Astronomie
                </a>
            </li>
            
            <li>
                <a href="/impressum">
                    Impressum
                </a>
            </li>
            
        </ul>
    </section>
</nav>
        <div class="container">
            <main>
<article itemscope itemtype="http://schema.org/BlogPosting">
    <header>
        <div class="meta">
            <span class="category">Entwicklung</span> &ndash; 
            <time itemprop="datePublished" datetime="2015-07-20 00:00:00 &#43;0000 UTC" class="date">20.07.2015</time> &ndash;
            <a itemprop="author" href="https://blog.johannes-mittendorfer.com/ueber-mich">Johannes Mittendorfer</a>
        </div>
        <h1 itemprop="headline">Wieso mein Feedreader jetzt selbst denken kann</h1>

        
        <div class="warning">
            Dieser Artikel ist älter als zwei Jahre und womöglich veraltet!
        </div>
        
    </header>
    <div itemprop="articleBody">
        <p><strong>Anmerkung: Ich habe seit diesem Artikel Vieles dazu gelernt. Die damalige Herangehesweise konnte aus verschiedenen Gründen nicht funktionieren. Ich habe mich entschieden, den originalen Artikel trotzdem online zu lassen.</strong></p>
<p>Will ich mir das wirklich antun? Aber was, wenn ich die interessanten Dinge dabei verpasse? Könnte nicht ein Computer die Themen auswählen, die ich lesen will? - Kann er.</p>
<p>Möglich ist das zum Beispiel mit einem Filter, der nach dem Satz von Bayes arbeitet und mit statistischen Methoden die Wahrscheinlichkeit berechnet. Das klingt aber nicht sehr aufregend. Deshalb habe ich mich für den derzeitigen Super-Star des Computerlernens entschieden: Einem <strong>künstlichen neuronalen Netzwerk</strong>.</p>
<h2 id="künstliche-neuronale-netzwerke">Künstliche Neuronale Netzwerke</h2>
<figure><a href="https://commons.wikimedia.org/wiki/File%3ANeural_network.svg"><img src="/img/picture_126.png"/></a><figcaption>
            <h4>Aufbau eines künstlichen neuronalen Netzwerkes</h4><p>CC BY 1.0 via Wikimedia Commons</p>
        </figcaption>
</figure>

<p>Dabei werden Neuroen verwendet, also Nervenzellen, wie sie auch bei uns im Gehirn vorkommen. Diese werden eingeteilt in eine Eingabeschicht, eine Ausgabeschicht und verdeckte Schichten (engl. hidden layers) dazwischen.</p>
<p>Die Verbindungen zwischen den Schichten sind gewichtet und beschreiben die Weiterleitung eines Reizes bzw. eines Signals, wodurch dann das Ergebnis entsteht. Diese Werte werden anschließend durch eine Funktion in den Bereich zwischen 0 und 1 gemappt.</p>
<p>Durch das Vergleiches mit den Ergebnissen aus den Trainingsdaten kann sich das Netzwerk mit dem Backpropagation-Algorithmus selbst ständig verbessern.</p>
<p>Wer sich noch weiter mit der Theorie beschäftigen möchte, der findet im zugehörigen Wikipedia-Artikel alles, was er braucht: <a href="https://de.wikipedia.org/wiki/K%C3%BCnstliches_neuronales_Netz">Künstliches neuronales Netz</a></p>
<h2 id="pybrain">pybrain</h2>
<p>Um das Netzwerk umzusetzen, habe ich Python verwendet und die <a href="http://pybrain.org/">pybrain Bibliothek</a>. Darin sind bereits alle Algorithmen enthalten und der Aufbau fällt relativ leicht. Mit der folgenden Zeile lässt sich zum Beispiel ein Netzwerk mit fünf Eingabeneuronen und 2 Ausgabeneuronen erzeugen:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#00f">from</span> <span style="color:#000">pybrain.tools.shortcuts</span> <span style="color:#00f">import</span> <span style="color:#000">buildNetwork</span>
</span></span><span style="display:flex;"><span><span style="color:#00f">from</span> <span style="color:#000">pybrain.structure.modules</span> <span style="color:#00f">import</span> <span style="color:#000">SoftmaxLayer</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">net</span> = <span style="color:#000">buildNetwork</span>(<span style="color:#3af">5</span>, <span style="color:#3af">2</span>, <span style="color:#000">outclass</span>=<span style="color:#000">SoftmaxLayer</span>)
</span></span></code></pre></div><p>Als nächstes lädt man die Trainingsdaten in einer Form, die vom Netzwerk gelernt werden kann:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#00f">from</span> <span style="color:#000">pybrain.datasets</span> <span style="color:#00f">import</span> <span style="color:#000">SupervisedDataSet</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">ds</span> = <span style="color:#000">SupervisedDataSet</span>(<span style="color:#3af">5</span>, <span style="color:#3af">2</span>)
</span></span></code></pre></div><p>Wichtig ist dabei, die gleiche Anzahl an Neuronen wie beim Aufbau des Netzes zu verwenden!</p>
<p>Mit der <code>addSample</code> Methoden werden anschließend die Beispiele hinzugefügt.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">ds</span>.<span style="color:#000">addSample</span>(\[<span style="color:#3af">0</span>,<span style="color:#3af">1</span>,<span style="color:#3af">1</span>,<span style="color:#3af">0</span>,<span style="color:#3af">0</span>\], (<span style="color:#3af">0</span>, <span style="color:#3af">1</span>))  <span style="color:#888;font-style:italic"># nur ein dummes Beispiel</span>
</span></span></code></pre></div><p>Trainiert wird dann so:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#00f">from</span> <span style="color:#000">pybrain.supervised.trainers</span> <span style="color:#00f">import</span> <span style="color:#000">BackpropTrainer</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">trainer</span> = <span style="color:#000">BackpropTrainer</span>(<span style="color:#000">net</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00f">for</span> <span style="color:#000">i</span> <span style="color:#00f">in</span> <span style="color:#000">range</span>(<span style="color:#3af">0</span>, <span style="color:#3af">100</span>): <span style="color:#888;font-style:italic"># so viel man will</span>
</span></span><span style="display:flex;"><span><span style="color:#000">trainer</span>.<span style="color:#000">train</span>()
</span></span></code></pre></div><p>Und schon bekommt man mit etwas Glück ein zufriedenstellendes Ergebnis:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">print</span> <span style="color:#000">net</span>.<span style="color:#000">activate</span>([<span style="color:#3af">0</span>,<span style="color:#3af">0</span>,<span style="color:#3af">0</span>,<span style="color:#3af">0</span>,<span style="color:#3af">1</span>]);
</span></span></code></pre></div><h2 id="meine-artikel">Meine Artikel</h2>
<p>Ich möchte also den Titel eines Artikels als Eingabe definieren und dann einen Wert erhalten, der angibt, wie wahrscheinlich mich der Artikel interessiert. Das erste Problem ist, Trainingsdaten zu bekommen. Dazu habe ich ein Plugin für meinen Feedreader geschrieben, der durch Drücken auf den Knopf &ldquo;Interessant&rdquo; oder &ldquo;Langweilig&rdquo; den Titel und die Berwertung protokolliert.</p>
<p>Leider erwartet so ein Netzwerk aber immer die gleiche Anzahl von Eingaben und diese sollten zudem Zahlen sein. Beides erfüllen Titel von Artikeln eher selten. Die Lösung ist ein Wörterbuch aufzubauen, in dem jedes Wort mit einem Index verbunden ist. Dann wird für jedes Wort im Wörterbuch die Häufigkeit des Vorkommens im Titel angegeben. Ich brauche also so viele Eingabeneuronen, wie ich Wörter im Wörterbuch habe. Füllwörter habe ich vorher entfernt.</p>
<p>So sollte es also gehen. Tut es aber nicht, denn das Netzwerk will einfach nicht lernen.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Total error: 0.32
</span></span><span style="display:flex;"><span>Total error: 0.32
</span></span><span style="display:flex;"><span>Total error: 0.32
</span></span><span style="display:flex;"><span>Total error: 0.32
</span></span><span style="display:flex;"><span>Total error: 0.32
</span></span><span style="display:flex;"><span>Total error: 0.32
</span></span><span style="display:flex;"><span>[...]
</span></span></code></pre></div><p>Das liegt daran, dass ich zuerst nur ein Ausgabeneuron verwendet habe. Es ist aber so, dass für jede Klasse der Klassifizierung ein eigenes Ausgabeneuron vorhanden sein muss. Also brauch ich davon zwei. Und schon geht es.</p>
<p>Noch schnell alles in eine flask-Anwendung verpacken und per fastcgi deployen, dann ist es einsatzbereit.</p>
<figure><img src="/img/picture_127.png"/><figcaption>
            <h4>Eine Überschrift eingeben...</h4>
        </figcaption>
</figure>

<figure><img src="/img/picture_128.png"/><figcaption>
            <h4>...und ein Ergebnis erhalten. Aktienkurse interessieren mich nicht wirklich.</h4>
        </figcaption>
</figure>

<p>Manchmal liegt die AI noch ziemlich daneben, aber das liegt vermutlich daran, dass ich oft selbst nicht so genau weiß, was mich interessiert. Zurzeit zeigt mein Feedreader dieses Ergebnis nur unter dem Artikel an, aber in Zukunft hoffe ich dadurch die Feeds filtern oder zumindest sortieren zu können.</p>
<p>Eines ist es auf jeden Fall: Faszinierend. Faszinierend, wie es möglich ist, Computern etwas beizubringen, ohne sich einen Algorithmus zu überlegen, der nach genauen Regeln vorgeht, denn mit Neuronalen Netzwerken geht es fast von selbst!</p>
<p>PS: Auf das Thema gestoßen, bin ich aufgrund der Bachelorarbeit eines Freundes. Der geneigte Leser möge sich diese hier durchlesen: <a href="http://homepage.univie.ac.at/a1200595/bachelor/thesis.pdf">Recognizing Musical Notation using Artificial Neural Networks</a></p>
<p>PPS: Ich werde die entsprechende Vorlesung erst im nächsten Semester besuchen. Wenn Sie hier im Theorieteil auf Fehler oder Ungenauigkeiten stoßen: Lassen Sie es mich wissen!</p>

    </div>
</article>

            </main>
        </div>
    </body>
</html>
