<!DOCTYPE html>
<html lang="de">
  <head>
    <!-- meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="keywords" content="Johannes Mittendorfer, Mittendorfer, Blog, Informatik, Student, Entwicklung, Security">
    <meta name="description" content="Der Blog von Informatik-Student Johannes Mittendorfer über das Leben im Studium, Software-Entwicklung, IT-Security und das Internet">
    <meta name="author" content="Johannes Mittendorfer">
    <meta http-equiv="cleartype" content="on">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1">
    <meta name="application-name" content="Johannes Mittendorfer"/>
    <meta name="msapplication-TileColor" content="#f9fbf4"/>
    <meta http-equiv="imagetoolbar" content="false" />
    <meta property="fb:admins" content="100000063853580" />
    <meta name="Content-Language" content="de" />
    <!-- resources -->
    <link rel="shortcut icon" href="/assets/favicon.ico">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="/rss.xml">
    <link rel="canoncial" href="https://blog.johannes-mittendorfer.com/artikel/2012/08/sql-injections-vermeiden-das-kann-doch-nicht-so-sc">
    <!-- styles -->
    <link rel="stylesheet" href="/assets/css/styles.css"/>
    <!-- title -->
    <title>SQL-Injections vermeiden - Das kann doch nicht so schwer sein</title>
    <!-- page specific resources -->
  </head>
  <body itemscope itemtype="http://schema.org/WebSite">
    <!-- menu bar -->
    <nav id="bar">
      <section class="container">
        <a class="title" itemprop="url" href="/">
          <h1 itemprop="name">Johannes Mittendorfer</h1>
        </a>
        <ul>
          <li>
            <a href="/">
              Start
            </a>
          </li>
          <li>
            <a itemprop="about" href="/ueber-mich" title="Über">
              Über
            </a>
          </li>
          <li>
            <a href="/astronomie" title="Astronomie">
              Astronomie
            </a>
          </li>
          <li>
            <a href="/impressum" title="Impressum">
              Impressum
            </a>
          </li>
        </ul>
      </section>
    </nav>
    <!-- main content -->
    <div class="container">
      <main>
        <!-- semantic description -->
        <script type="application/ld+json">
          {
            "@context": "http://schema.org",
            "@type": "BlogPosting",
            "@id": "https://blog.johannes-mittendorfer.com/artikel/2012/08/sql-injections-vermeiden-das-kann-doch-nicht-so-sc",
            "headline": "SQL-Injections vermeiden - Das kann doch nicht so schwer sein",
            "description": "",
            "datePublished": "2012-08-30 00:00:00 +0200",
            "dateModified": "2012-08-30 00:00:00 +0200",
            "author": {
              "@type": "Person",
              "name": "Johannes Mittendorfer"
            },
            "publisher": {
              "@type": "Organization",
              "name": "Johannes Mittendorfer",
              "logo": {
                  "@type": "ImageObject",
                  "url": "https://blog.johannes-mittendorfer.com/assets/favicon.ico",
                  "width": 16,
                  "height": 16
              }
            },
          
            "mainEntityOfPage": {
              "@id": "https://blog.johannes-mittendorfer.com/artikel/2012/08/sql-injections-vermeiden-das-kann-doch-nicht-so-sc"
            }
          }
        </script>
        <script type="application/ld+json">
          {
            "@context": "http://schema.org",
            "@type": "BreadcrumbList",
            "itemListElement": [{
              "@type": "ListItem",
              "position": 1,
              "item": {
                "@id": "https://blog.johannes-mittendorfer.com/artikel",
                "name": "Artikel"
              }
            },
            {
              "@type": "ListItem",
              "position": 2,
              "item": {
                "@id": "https://blog.johannes-mittendorfer.com/artikel/2012",
                "name": "2012"
              }
            },
            {
              "@type": "ListItem",
              "position": 3,
              "item": {
                "@id": "https://blog.johannes-mittendorfer.com/artikel/2012/08",
                "name": "08"
              }
            },
            {
              "@type": "ListItem",
              "position": 4,
              "item": {
                "@id": "https://blog.johannes-mittendorfer.com/artikel/2012/08/sql-injections-vermeiden-das-kann-doch-nicht-so-sc",
                "name": "SQL-Injections vermeiden - Das kann doch nicht so schwer sein"
              }
            }]
          }
        </script>
        <article itemscope itemtype="http://schema.org/BlogPosting">
          <header>
            <div class="meta">
              <span class="category">Security</span> &ndash; 
              <time itemprop="datePublished" datetime="2012-08-30T00:00:00+02:00" class="date">30.08.2012</time> &ndash;
              <a itemprop="author" href="https://blog.johannes-mittendorfer.com/ueber-mich">Johannes Mittendorfer</a>
            </div>
            <h1 itemprop="headline">SQL-Injections vermeiden - Das kann doch nicht so schwer sein</h1>
            <div class="warning">
              Dieser Artikel ist älter als zwei Jahre und womöglich veraltet!
            </div>
          </header>
          <div itemprop="articleBody">
            <figure class="highlight">
              <pre><code class="language-php" data-lang="php"><span class="nb">mysql_query</span><span class="p">(</span><span class="s2">"SELECT * FROM table WHERE id = "</span> <span class="mf">.</span> <span class="nv">$_GET</span><span class="p">[</span><span class="s2">"id"</span><span class="p">]);</span></code></pre>
            </figure>
            <p>Das ist schlichtweg der Albtraum für jeden, der sich schonmal mit Sicherheit in Datenbankanwendungen beschäftigt hat.</p>
            <p>Die unsichere Verwendung von HTTP-Paramtern, oder generell von Daten, die vom Benutzer kommen, stellt eine große Gefahr für die Sicherheit eines ganzen Systems dar. Mittels eines SQL-Injection Angriffes kann meist auf die gesamten Daten der Datenbank zugegriffen und dort zum Beispiel Passwörter gestohlen werden.</p>
            <p><img src="/assets/img/picture_55.png" alt="Comic" /></p>
            <p>In diesem Beispiel kann man an die zugehörige URL <code class="highlighter-rouge">http://site.com/article.php?id=56</code> auch noch ein zweiter Datenbankbefehl angehängt werden, denn die ID des Eintrages wird nicht überprüft: <code class="highlighter-rouge">http://site.com/article.php?id=56;SELECT...</code></p>
            <p>Die einfachste Lösung besteht darin einfach den PHP-Befehl <code class="highlighter-rouge">mysql_real_escape_string()</code> zu verwenden, und damit die Daten in der Abfrage zu filtern. Schon durch diesen einfachen Befehl ist es nahezu unmöglich die Website durch diesn Angriff zu übernehmen.</p>
            <figure class="highlight">
              <pre><code class="language-php" data-lang="php"><span class="nb">mysql_query</span><span class="p">(</span><span class="s2">"SELECT * FROM table WHERE id = "</span> <span class="mf">.</span> <span class="nb">mysql_real_escape_string</span><span class="p">(</span><span class="nv">$_GET</span><span class="p">[</span><span class="s2">"id"</span><span class="p">]));</span></code></pre>
            </figure>
            <p>Leider ist diese Erkenntnis nicht sehr weit verbreitet. So musste ich erst heute eine politische Partei in meiner Umgebung vor ihrer eigenen Website warnen, da hier eine offensichtliche und leicht zu erkennende Sicherheitslücke besteht.</p>
            <p>Später würde man wohl auf böse Hacker verweisen, die mit ihren hochkomplexen und auf keinen Fall vorhersehbaren Methoden Webseiten angreifen, die man einfach nicht besser schützen kann.</p>
            <p>Gerade in Zeiten mit Werkzeugen wie sqlmap ist es ein leichtes solche Angriffe durchzuführen, wenn man auch nur etwas Ahnung von der Materie hat.</p>
            <p><strong>Update:</strong> Heute ist der 11.09.2012 und die besagte Lücke besteht noch immer. Anscheinend besteht auf Seiten der FPÖ keinerlei Interesse daran Hackerangriffe abzuwehren.</p>
          </div>
          <footer>
            <div id="share">
              <a href="https://www.facebook.com/sharer/sharer.php?u=https://blog.johannes-mittendorfer.com/artikel/2012/08/sql-injections-vermeiden-das-kann-doch-nicht-so-sc" class="share-icon facebook"><i class="fa fa-facebook"></i> Facebook</a>
              <a href="https://twitter.com/intent/tweet?original_referer=https://johannes-mittendorfer.com&source=tweetbuttont&url=https://blog.johannes-mittendorfer.com/artikel/2012/08/sql-injections-vermeiden-das-kann-doch-nicht-so-sc" class="share-icon twitter"><i class="fa fa-twitter"></i> Twitter</a>
              <a href="https://plus.google.com/share?url=https://blog.johannes-mittendorfer.com/artikel/2012/08/sql-injections-vermeiden-das-kann-doch-nicht-so-sc&hl=de" class="share-icon googleplus"><i class="fa fa-google-plus"></i> Google+</a>
              <a href="https://flattr.com/submit/auto?user_id=joushx&url=https://blog.johannes-mittendorfer.com/artikel/2012/08/sql-injections-vermeiden-das-kann-doch-nicht-so-sc&title=SQL-Injections%20vermeiden%20-%20Das%20kann%20doch%20nicht%20so%20schwer%20sein" class="share-icon flattr">Flattr</a>
            </div>
          </footer>
        </article>
      </main>
    </div>
  </body>
</html>