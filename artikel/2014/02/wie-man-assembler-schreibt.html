<!DOCTYPE html>
<html lang="de">
  <head>
    <!-- meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="keywords" content="Johannes Mittendorfer, Mittendorfer, Blog, Informatik, Student, Entwicklung, Security">
    <meta name="description" content="Der Blog von Informatik-Student Johannes Mittendorfer über das Leben im Studium, Software-Entwicklung, IT-Security und das Internet">
    <meta name="author" content="Johannes Mittendorfer">
    <meta http-equiv="cleartype" content="on">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1">
    <meta name="application-name" content="Johannes Mittendorfer"/>
    <meta name="msapplication-TileColor" content="#f9fbf4"/>
    <meta http-equiv="imagetoolbar" content="false" />
    <meta property="fb:admins" content="100000063853580" />
    <meta name="Content-Language" content="de" />
    <!-- resources -->
    <link rel="shortcut icon" href="/assets/favicon.ico">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="/rss.xml">
    <link rel="canoncial" href="https://blog.johannes-mittendorfer.com/artikel/2014/02/wie-man-assembler-schreibt">
    <!-- styles -->
    <link rel="stylesheet" href="/assets/css/styles.css"/>
    <!-- title -->
    <title>Wie man Assembler schreibt</title>
    <!-- page specific resources -->
  </head>
  <body itemscope itemtype="http://schema.org/WebSite">
    <!-- menu bar -->
    <nav id="bar">
      <section class="container">
        <a class="title" itemprop="url" href="/">
          <h1 itemprop="name">Johannes Mittendorfer</h1>
        </a>
        <ul>
          <li>
            <a href="/">
              Start
            </a>
          </li>
          <li>
            <a itemprop="about" href="/ueber-mich" title="Über">
              Über
            </a>
          </li>
          <li>
            <a href="/astronomie" title="Astronomie">
              Astronomie
            </a>
          </li>
          <li>
            <a href="/impressum" title="Impressum">
              Impressum
            </a>
          </li>
        </ul>
      </section>
    </nav>
    <!-- main content -->
    <div class="container">
      <main>
        <!-- semantic description -->
        <script type="application/ld+json">
          {
            "@context": "http://schema.org",
            "@type": "BlogPosting",
            "@id": "https://blog.johannes-mittendorfer.com/artikel/2014/02/wie-man-assembler-schreibt",
            "headline": "Wie man Assembler schreibt",
            "description": "",
            "datePublished": "2014-02-16 00:00:00 +0100",
            "dateModified": "2014-02-16 00:00:00 +0100",
            "author": {
              "@type": "Person",
              "name": "Johannes Mittendorfer"
            },
            "publisher": {
              "@type": "Organization",
              "name": "Johannes Mittendorfer",
              "logo": {
                  "@type": "ImageObject",
                  "url": "https://blog.johannes-mittendorfer.com/assets/favicon.ico",
                  "width": 16,
                  "height": 16
              }
            },
          
            "mainEntityOfPage": {
              "@id": "https://blog.johannes-mittendorfer.com/artikel/2014/02/wie-man-assembler-schreibt"
            }
          }
        </script>
        <script type="application/ld+json">
          {
            "@context": "http://schema.org",
            "@type": "BreadcrumbList",
            "itemListElement": [{
              "@type": "ListItem",
              "position": 1,
              "item": {
                "@id": "https://blog.johannes-mittendorfer.com/artikel",
                "name": "Artikel"
              }
            },
            {
              "@type": "ListItem",
              "position": 2,
              "item": {
                "@id": "https://blog.johannes-mittendorfer.com/artikel/2014",
                "name": "2014"
              }
            },
            {
              "@type": "ListItem",
              "position": 3,
              "item": {
                "@id": "https://blog.johannes-mittendorfer.com/artikel/2014/02",
                "name": "02"
              }
            },
            {
              "@type": "ListItem",
              "position": 4,
              "item": {
                "@id": "https://blog.johannes-mittendorfer.com/artikel/2014/02/wie-man-assembler-schreibt",
                "name": "Wie man Assembler schreibt"
              }
            }]
          }
        </script>
        <article itemscope itemtype="http://schema.org/BlogPosting">
          <header>
            <div class="meta">
              <span class="category">Entwicklung</span> &ndash; 
              <time itemprop="datePublished" datetime="2014-02-16T00:00:00+01:00" class="date">16.02.2014</time> &ndash;
              <a itemprop="author" href="https://blog.johannes-mittendorfer.com/ueber-mich">Johannes Mittendorfer</a>
            </div>
            <h1 itemprop="headline">Wie man Assembler schreibt</h1>
            <div class="warning">
              Dieser Artikel ist älter als zwei Jahre und womöglich veraltet!
            </div>
          </header>
          <div itemprop="articleBody">
            <p>Assembler ist gar nicht so schwer. Vorausgesetzt natürlich man hat es einmal verstanden. Und genau das soll dieser Artikel leisten: Verständlich machen, wie es grundsätzlich geht.</p>
            <p>In diesem Beispiel verwende ich <em>GNU Assembler</em> mit der <em>AT&amp;T-Syntax</em>.</p>
            <p>Ein Programm besteht immer aus zwei Teilen: Dem data- und dem text-Bereich:</p>
            <figure class="highlight">
              <pre><code class="language-gas" data-lang="gas">.section .data
# hier kommt was hin

.section .text
# hier auch</code></pre>
            </figure>
            <p>Im data-Bereich werden die Variablen definiert und im text-Bereich steht das eigentliche Programm.</p>
            <h2 id="variablen">Variablen</h2>
            <p>Wie jedes andere Programm braucht auch ein Assemblerprogramm (in Normalfall) Variablen. Diese werden mit Namen, Datentyp und Wert im data-Bereich definiert. Das Programm mit einer Variable sieht zum Beispiel so aus:</p>
            <figure class="highlight">
              <pre><code class="language-gas" data-lang="gas">.section .data
  msg: .ascii "Ende!\r\n"

.section .text</code></pre>
            </figure>
            <p>Zuerst wird der Name der Variable angegeben, in diesem Beispiel <code class="highlighter-rouge">msg</code>. Danach folgt der Datentyp und der Wert der Variable. In diesem Fall ist es ein String, angegeben durch <code class="highlighter-rouge">.ascii</code>.</p>
            <h2 id="programmlogik">Programmlogik</h2>
            <p>Eine Variable zu definieren ist schön, aber bringt alleine noch nicht viel. Deshalb kommt jetzt die eigentliche Programmlogik. Es gibt verschiene Befehle, die auf einer sehr niedrigen Systemebene Befehle ausführen. Eine einfache Anfangsübung ist die Textausgabe in der Konsole über stdout.</p>
            <p>Wer jetzt mit einem einzelnen Befehl rechnet, der wird enttäuscht werden: Es braucht gleich fünf (!) davon.</p>
            <figure class="highlight">
              <pre><code class="language-gas" data-lang="gas">.section .data
  msg: .ascii "Ende!\r\n"

.section .text
  movl $4, %eax  # 4 = Ausgabe
  movl $1, %ebx  # 1 = stdout
  movl $msg, %ecx  # String übergeben
  movl $7, %edx  # Länge des Strings (\r = 1 | \n = 1)
  int $0x80</code></pre>
            </figure>
            <p>Die benötigten Werte werden in die Speicher <code class="highlighter-rouge">%eax</code> bis <code class="highlighter-rouge">%edx</code> gelegt und dann das Betriebssystem mittels <code class="highlighter-rouge">int $0x80</code> aufgefordert den Befehl auszuführen.</p>
            <p>An dieser Stelle muss ich zugeben, dass ich auch noch nicht sehr viel mehr kann. Aber wer sich dafür interessiert, der dürfte bei <a href="http://en.wikibooks.org/wiki/X86_Assembly/GAS_Syntax">Wikibooks</a> weitere Informationen dazu finden.</p>
          </div>
          <footer>
            <div id="share">
              <a href="https://www.facebook.com/sharer/sharer.php?u=https://blog.johannes-mittendorfer.com/artikel/2014/02/wie-man-assembler-schreibt" class="share-icon facebook"><i class="fa fa-facebook"></i> Facebook</a>
              <a href="https://twitter.com/intent/tweet?original_referer=https://johannes-mittendorfer.com&source=tweetbuttont&url=https://blog.johannes-mittendorfer.com/artikel/2014/02/wie-man-assembler-schreibt" class="share-icon twitter"><i class="fa fa-twitter"></i> Twitter</a>
              <a href="https://plus.google.com/share?url=https://blog.johannes-mittendorfer.com/artikel/2014/02/wie-man-assembler-schreibt&hl=de" class="share-icon googleplus"><i class="fa fa-google-plus"></i> Google+</a>
              <a href="https://flattr.com/submit/auto?user_id=joushx&url=https://blog.johannes-mittendorfer.com/artikel/2014/02/wie-man-assembler-schreibt&title=Wie%20man%20Assembler%20schreibt" class="share-icon flattr">Flattr</a>
            </div>
          </footer>
        </article>
      </main>
    </div>
  </body>
</html>